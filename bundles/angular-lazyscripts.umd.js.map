{"version":3,"file":"angular-lazyscripts.umd.js.map","sources":["ng://angular-lazyscripts/lib/angular-lazyscripts.service.ts","ng://angular-lazyscripts/lib/angular-lazyscripts.component.ts","ng://angular-lazyscripts/lib/angular-lazyscripts.directive.ts","ng://angular-lazyscripts/lib/angular-lazyscripts.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AngularLazyscriptsService {\n\n  loadedlist:string[]=[];\n\n  constructor() { }\n\n  loadExternalScript(url:string){\n    let timeout = new Promise((resolve, reject) => {\n      let id = setTimeout(() => {\n        clearTimeout(id);\n        reject()\n      }, 15000)\n    })\n\n    let loadp=new Promise((resolve,reject) => {\n      if(!this.loadedlist.includes(url,0)){\n        const scriptElement = document.createElement('script');\n        scriptElement.src = url;\n        scriptElement.onload = ()=>{\n          this.loadedlist.push(url);\n          resolve();}\n        document.body.appendChild(scriptElement);\n      }else{\n        resolve();\n      }\n    });\n\n    return Promise.race([loadp,timeout]);\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'als-angular-lazyscripts',\n  template: `\n    <p>loaded!</p>\n  `,\n  styles: []\n})\nexport class AngularLazyscriptsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Directive, TemplateRef, ViewContainerRef, Input } from '@angular/core';\nimport { AngularLazyscriptsService } from './angular-lazyscripts.service';\n\n@Directive({\n  selector: '[alsLoad]'\n})\nexport class AngularLazyscriptsDirective {\n  @Input() set alsLoad(url:string){\n  this.alsService.loadExternalScript(url).then(()=>{\n    this.vc.createEmbeddedView(this.template);\n  }).catch(()=>{\n    this.vc.clear();\n  })\n\n  }\n\n  constructor(private template: TemplateRef<any>,private vc: ViewContainerRef,private alsService:AngularLazyscriptsService) { }\n\n}\n","import { NgModule } from \"@angular/core\";\nimport { AngularLazyscriptsComponent } from \"./angular-lazyscripts.component\";\nimport { AngularLazyscriptsDirective } from \"./angular-lazyscripts.directive\";\nimport { AngularLazyscriptsService } from \"./angular-lazyscripts.service\";\n\n@NgModule({\n  declarations: [AngularLazyscriptsComponent, AngularLazyscriptsDirective],\n  imports: [],\n  exports: [AngularLazyscriptsComponent,AngularLazyscriptsDirective]\n})\nexport class AngularLazyscriptsModule {}\n"],"names":["Injectable","Component","Directive","TemplateRef","ViewContainerRef","Input","NgModule"],"mappings":";;;;;;;;;;AAAA;QASE;YAFA,eAAU,GAAU,EAAE,CAAC;SAEN;;;;;QAEjB,sDAAkB;;;;YAAlB,UAAmB,GAAU;gBAA7B,iBAsBC;;oBArBK,OAAO,GAAG,IAAI,OAAO;;;;mBAAC,UAAC,OAAO,EAAE,MAAM;;wBACpC,EAAE,GAAG,UAAU;;uBAAC;wBAClB,YAAY,CAAC,EAAE,CAAC,CAAC;wBACjB,MAAM,EAAE,CAAA;qBACT,GAAE,KAAK,CAAC;iBACV,EAAC;;oBAEE,KAAK,GAAC,IAAI,OAAO;;;;mBAAC,UAAC,OAAO,EAAC,MAAM;oBACnC,IAAG,CAAC,KAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,EAAC,CAAC,CAAC,EAAC;;4BAC5B,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC;wBACtD,aAAa,CAAC,GAAG,GAAG,GAAG,CAAC;wBACxB,aAAa,CAAC,MAAM;;2BAAG;4BACrB,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;4BAC1B,OAAO,EAAE,CAAC;yBAAC,CAAA,CAAA;wBACb,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;qBAC1C;yBAAI;wBACH,OAAO,EAAE,CAAC;qBACX;iBACF,EAAC;gBAEF,OAAO,OAAO,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,OAAO,CAAC,CAAC,CAAC;aACtC;;oBA/BFA,aAAU,SAAC;wBACV,UAAU,EAAE,MAAM;qBACnB;;;;;wCAJD;KAEA;;;;;;ACFA;QAWE;SAAiB;;;;QAEjB,8CAAQ;;;YAAR;aACC;;oBAZFC,YAAS,SAAC;wBACT,QAAQ,EAAE,yBAAyB;wBACnC,QAAQ,EAAE,0BAET;qBAEF;;;;QAQD,kCAAC;KAdD;;;;;;ACFA;QAgBE,qCAAoB,QAA0B,EAAS,EAAoB,EAAS,UAAoC;YAApG,aAAQ,GAAR,QAAQ,CAAkB;YAAS,OAAE,GAAF,EAAE,CAAkB;YAAS,eAAU,GAAV,UAAU,CAA0B;SAAK;QAT7H,sBAAa,gDAAO;;;;gBAApB,UAAqB,GAAU;gBAA/B,iBAOC;gBAND,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,IAAI;;mBAAC;oBAC3C,KAAI,CAAC,EAAE,CAAC,kBAAkB,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;iBAC3C,EAAC,CAAC,KAAK;;mBAAC;oBACP,KAAI,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC;iBACjB,EAAC,CAAA;aAED;;;WAAA;;oBAXFC,YAAS,SAAC;wBACT,QAAQ,EAAE,WAAW;qBACtB;;;;;wBALmBC,cAAW;wBAAEC,mBAAgB;wBACxC,yBAAyB;;;;8BAM/BC,QAAK;;QAWR,kCAAC;KAfD;;;;;;ACHA;QAKA;SAKwC;;oBALvCC,WAAQ,SAAC;wBACR,YAAY,EAAE,CAAC,2BAA2B,EAAE,2BAA2B,CAAC;wBACxE,OAAO,EAAE,EAAE;wBACX,OAAO,EAAE,CAAC,2BAA2B,EAAC,2BAA2B,CAAC;qBACnE;;QACsC,+BAAC;KALxC;;;;;;;;;;;;;;;;;;;;;;;;;"}
