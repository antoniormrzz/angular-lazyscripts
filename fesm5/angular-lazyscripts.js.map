{"version":3,"file":"angular-lazyscripts.js.map","sources":["ng://angular-lazyscripts/lib/angular-lazyscripts.service.ts","ng://angular-lazyscripts/lib/angular-lazyscripts.component.ts","ng://angular-lazyscripts/lib/angular-lazyscripts.directive.ts","ng://angular-lazyscripts/lib/angular-lazyscripts.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AngularLazyscriptsService {\n\n  loadedlist:string[]=[];\n\n  constructor() { }\n\n  loadExternalScript(url:string){\n    let timeout = new Promise((resolve, reject) => {\n      let id = setTimeout(() => {\n        clearTimeout(id);\n        reject()\n      }, 15000)\n    })\n\n    let loadp=new Promise((resolve,reject) => {\n      if(!this.loadedlist.includes(url,0)){\n        const scriptElement = document.createElement('script');\n        scriptElement.src = url;\n        scriptElement.onload = ()=>{\n          this.loadedlist.push(url);\n          resolve();}\n        document.body.appendChild(scriptElement);\n      }else{\n        resolve();\n      }\n    });\n\n    return Promise.race([loadp,timeout]);\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'als-angular-lazyscripts',\n  template: `\n    <p>loaded!</p>\n  `,\n  styles: []\n})\nexport class AngularLazyscriptsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Directive, TemplateRef, ViewContainerRef, Input } from '@angular/core';\nimport { AngularLazyscriptsService } from './angular-lazyscripts.service';\n\n@Directive({\n  selector: '[alsLoad]'\n})\nexport class AngularLazyscriptsDirective {\n  @Input() set alsLoad(url:string){\n  this.alsService.loadExternalScript(url).then(()=>{\n    this.vc.createEmbeddedView(this.template);\n  }).catch(()=>{\n    this.vc.clear();\n  })\n\n  }\n\n  constructor(private template: TemplateRef<any>,private vc: ViewContainerRef,private alsService:AngularLazyscriptsService) { }\n\n}\n","import { NgModule } from \"@angular/core\";\nimport { AngularLazyscriptsComponent } from \"./angular-lazyscripts.component\";\nimport { AngularLazyscriptsDirective } from \"./angular-lazyscripts.directive\";\nimport { AngularLazyscriptsService } from \"./angular-lazyscripts.service\";\n\n@NgModule({\n  declarations: [AngularLazyscriptsComponent, AngularLazyscriptsDirective],\n  imports: [],\n  exports: [AngularLazyscriptsComponent,AngularLazyscriptsDirective]\n})\nexport class AngularLazyscriptsModule {}\n"],"names":[],"mappings":";;;;;;AAAA;IASE;QAFA,eAAU,GAAU,EAAE,CAAC;KAEN;;;;;IAEjB,sDAAkB;;;;IAAlB,UAAmB,GAAU;QAA7B,iBAsBC;;YArBK,OAAO,GAAG,IAAI,OAAO;;;;;QAAC,UAAC,OAAO,EAAE,MAAM;;gBACpC,EAAE,GAAG,UAAU;;;YAAC;gBAClB,YAAY,CAAC,EAAE,CAAC,CAAC;gBACjB,MAAM,EAAE,CAAA;aACT,GAAE,KAAK,CAAC;SACV,EAAC;;YAEE,KAAK,GAAC,IAAI,OAAO;;;;;QAAC,UAAC,OAAO,EAAC,MAAM;YACnC,IAAG,CAAC,KAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,EAAC,CAAC,CAAC,EAAC;;oBAC5B,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC;gBACtD,aAAa,CAAC,GAAG,GAAG,GAAG,CAAC;gBACxB,aAAa,CAAC,MAAM;;;gBAAG;oBACrB,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBAC1B,OAAO,EAAE,CAAC;iBAAC,CAAA,CAAA;gBACb,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;aAC1C;iBAAI;gBACH,OAAO,EAAE,CAAC;aACX;SACF,EAAC;QAEF,OAAO,OAAO,CAAC,IAAI,CAAC,CAAC,KAAK,EAAC,OAAO,CAAC,CAAC,CAAC;KACtC;;gBA/BF,UAAU,SAAC;oBACV,UAAU,EAAE,MAAM;iBACnB;;;;;oCAJD;CAEA;;;;;;ACFA;IAWE;KAAiB;;;;IAEjB,8CAAQ;;;IAAR;KACC;;gBAZF,SAAS,SAAC;oBACT,QAAQ,EAAE,yBAAyB;oBACnC,QAAQ,EAAE,0BAET;iBAEF;;;;IAQD,kCAAC;CAdD;;;;;;ACFA;IAgBE,qCAAoB,QAA0B,EAAS,EAAoB,EAAS,UAAoC;QAApG,aAAQ,GAAR,QAAQ,CAAkB;QAAS,OAAE,GAAF,EAAE,CAAkB;QAAS,eAAU,GAAV,UAAU,CAA0B;KAAK;IAT7H,sBAAa,gDAAO;;;;;QAApB,UAAqB,GAAU;YAA/B,iBAOC;YAND,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,IAAI;;;YAAC;gBAC3C,KAAI,CAAC,EAAE,CAAC,kBAAkB,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;aAC3C,EAAC,CAAC,KAAK;;;YAAC;gBACP,KAAI,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC;aACjB,EAAC,CAAA;SAED;;;OAAA;;gBAXF,SAAS,SAAC;oBACT,QAAQ,EAAE,WAAW;iBACtB;;;;gBALmB,WAAW;gBAAE,gBAAgB;gBACxC,yBAAyB;;;0BAM/B,KAAK;;IAWR,kCAAC;CAfD;;;;;;ACHA;IAKA;KAKwC;;gBALvC,QAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,2BAA2B,EAAE,2BAA2B,CAAC;oBACxE,OAAO,EAAE,EAAE;oBACX,OAAO,EAAE,CAAC,2BAA2B,EAAC,2BAA2B,CAAC;iBACnE;;IACsC,+BAAC;CALxC;;;;;;;;;;;;;;"}
